%%% Template originaly created by Karol Kozio≈Ç (mail@karol-koziol.net) and modified for ShareLaTeX use

\documentclass[a4paper,11pt]{article}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{tgtermes}
\usepackage{listings}

\usepackage[
pdftitle={CSE258 Homework 1}, 
pdfauthor={Chenyu Huang, University of California San Diego},
colorlinks=true,linkcolor=blue,urlcolor=blue,citecolor=blue,bookmarks=true,
bookmarksopenlevel=2]{hyperref}
\usepackage{amsmath,amssymb,amsthm,textcomp}
\usepackage{enumerate}
\usepackage{multicol}
\usepackage{tikz}

\usepackage{geometry}
\geometry{total={210mm,297mm},
left=25mm,right=25mm,%
bindingoffset=0mm, top=20mm,bottom=20mm}


\linespread{1.3}

\newcommand{\linia}{\rule{\linewidth}{0.5pt}}

% custom theorems if needed
\newtheoremstyle{mytheor}
    {1ex}{1ex}{\normalfont}{0pt}{\scshape}{.}{1ex}
    {{\thmname{#1 }}{\thmnumber{#2}}{\thmnote{ (#3)}}}

\theoremstyle{mytheor}
\newtheorem{defi}{Definition}

% my own titles
\makeatletter
\renewcommand{\maketitle}{
\begin{center}
\vspace{2ex}
{\huge \textsc{\@title}}
\vspace{1ex}
\\
\linia\\
\@author \hfill \@date
\vspace{4ex}
\end{center}
}
\makeatother
%%%

% custom footers and headers
\usepackage{fancyhdr,lastpage}
\pagestyle{fancy}
\lhead{}
\chead{}
\rhead{}
\lfoot{Assignment \textnumero{} 5}
\cfoot{}
\rfoot{Page \thepage\ /\ \pageref*{LastPage}}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
%

% custom style for code
\lstdefinestyle{customc}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  frame=L,
  xleftmargin=\parindent,
  language=C,
  showstringspaces=false,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue},
  stringstyle=\color{orange},
}

\lstdefinestyle{customasm}{
  belowcaptionskip=1\baselineskip,
  frame=L,
  xleftmargin=\parindent,
  language=[x86masm]Assembler,
  basicstyle=\footnotesize\ttfamily,
  commentstyle=\itshape\color{purple!40!black},
}

\lstset{escapechar=@,style=customc}

%%%----------%%%----------%%%----------%%%----------%%%

\begin{document}

\title{CSE258 Homework 1}

\author{Chenyu Huang, University of California San Diego}

\date{01/22/2017}

\maketitle

\section{Regression}

\paragraph{Task 1}

The fitted value of $\theta_0$ and $\theta_1$ are $[-3.91707489e+01, 2.14379786e-02]$

\paragraph{Task 2}

 Since the data entries only covers years from 1999 to 2012, We chose to represent the year value as a step function. In this representation, $[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]$ represents 1999, while $[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]$ represents 2012. With this representation, the relationship between year and review can be written as:
 \begin{align}
 	&review / overall \simeq \sum_{i=0}^{13} \theta_i \times year[i]\\
 	&where \ year[i] \ represent \ the \ ith \ digit \ of \ the \ year \ representation
 \end{align}
 The MSE in part 1 of the question is 0.490043819858, while the MSE using the step function representation of year value is 0.48915189521.

\paragraph{Task 3}

The fitted coefficients are
$$
\begin{bmatrix}
2.56420278e+02 \\  1.35421303e-01 \\ -1.72994866e+00  \\ 1.02651152e-01\\
1.09038568e-01 \\ -2.76775152e-01  \\ 6.34332169e-03  \\ 3.85023935e-05\\
-2.58652808e+02 \\  1.19540565e+00  \\ 8.33006284e-01 \\  9.79304364e-02
\end{bmatrix}
$$
The MSE for the training data is 0.602307502903, while the MSE on the testing data is 0.562457127767. 

\paragraph{Task 4}
(a) The MSE for 11 ablation experiments are 
$$
\begin{bmatrix}
0.559113415175\\
0.596384849311\\
0.562221703459\\
0.55362506398\\
0.562629269948\\
0.5561408204\\
0.56242900712\\
0.544726553466\\
0.559566626638\\
0.557346348772\\
0.573214743821
\end{bmatrix}
$$
(b) The larger the MSE with ablation, the more additional information that ablation provides. By the same principle, the smaller the MSE with ablation, the less predictive power that feature will possess. The second feature "volatile acidity" provides the most additional information. While the "density" provides the least additional information.
\clearpage

\section{Classification}

\paragraph{Task 5}
The accuracy of the classifier on the training data is 1.0, while the accuracy on the testing data is 0.668027766435.

\paragraph{Task 6}
After convergence, the log likelihood is -1388.69674843, while the accuracy on the testing data is 0.76929358922.

\clearpage

\section{Code}
\lstinputlisting[language=Python, caption={task1}]{problem1.py}\clearpage
\lstinputlisting[language=Python, caption={task2}]{problem2.py}\clearpage
\lstinputlisting[language=Python, caption={task3}]{problem3.py}\clearpage
\lstinputlisting[language=Python, caption={task4}]{problem4.py}\clearpage
\lstinputlisting[language=Python, caption={task5}]{problem5.py}\clearpage
\lstinputlisting[language=Python, caption={task6}]{problem6.py}\clearpage


\end{document}
